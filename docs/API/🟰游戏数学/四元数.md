> 四元数是一种数学工具，由爱尔兰数学家William Rowan Hamilton在1843年发明。它是一种简单的超复数，具有复数的性质但更为丰富。
> 1.  **定义**： 
>    - 四元数由实数加上三个虚数单位i、j、k组成，它们满足以下关系：i² = j² = k² = -1，iº = jº = kº = 1。
>    - 每个四元数都是1、i、j和k的线性组合，通常表示为a + bi + cj + dk，其中a、b、c、d是实数。
> 2.  **基本性质**： 
>    - 四元数的乘法不符合交换律（即pq ≠ qp）。
>    - 乘法的结合律仍旧存在，非零元素仍有逆元素。
>    - 四元数形成一个在实数上的四维结合代数（事实上是除法代数），并包括复数，但不与复数组成结合代数。
> 3.  **几何意义**： 
>    - i、j和k的几何意义可以理解为一种旋转，分别代表不同坐标轴间的旋转。
>    - 单位四元数（绝对值为1的四元数）的共轭作用可以表示一个旋转，其旋转轴为虚部的方向，旋转角度与实部有关。
> 4.  **应用**： 
>    - 四元数在计算机图形和动画中极为有用，因为它可以表示多种变换操作（如平移、旋转和缩放）。
>    - 在机器人控制、摄影测量、化学和物理的研究中，四元数也有广泛的应用。
> 5.  **与矩阵的关系**： 
>    - 四元数乘法可以被转换为矩阵运算，其实部和虚部也可以被表示为一个4x4的旋转矩阵。
> 
总结来说，四元数是一种包含四个分量的超复数，其中包含一个实部和三个虚部。它不仅具有复数的性质，而且由于其非交换性，在某些应用中表现出独特的优势。


### 构造函数

#### **GameQuaternion**(w: number,x: number, y: number, z: number) : [**GameQuaternion**](https://www.yuque.com/box3lab/api/fnpgxl0r4wrgl3rg)
**实例化一个四元数对象**

**输入参数**

| **_参数_** | **_必填_** | **_默认值_** | **_类型_** | **_说明_** |
| --- | --- | --- | --- | --- |
| w | 是 | | number | w实部 |
| x | _是_ | | number | x虚部 |
| y | _是_ | | number | y虚部 |
| z | _是_ | | number | 

### 属性

#### z : number 
**z实部**

---


#### x : number 
**x虚部**

---


#### y : number     
**y虚部**

---


#### z : number
**z虚部**

---


### 方法

#### add(v:GameQuaternion) : GameQuaternion
**四元数加法**

**输入参数**

| **_参数_** | **_必填_** | **_默认值_** | **_类型_** | **_说明_** |
| --- | --- | --- | --- | --- |
| v | _是_ | | GameQuate

#### **angle**(v:GameQuaternion) : _number_
**得到两个四元数之间的角度**

**输入参数**

| **_参数_** | **_必填_** | **_默认值_** | **_类型_** | **_说明_** |
| --- | --- | --- | --- | --- |
| v | _是_ | | GameQuate# **clone**() : GameQuaternion
**克隆当前四元数**

---


#### **copy**(v:GameQuaternion) : _void_
**复制四元数到新的四元数上**

**输入参数**

| **_参数_** | **_必填_** | **_默认值_** | **_类型_** | **_说明_** |
| --- | --- | --- | --- | --- |
| v | _是_ | | GameQuaternion | 四元数 |


---
### **cross
**输入参数**

| **_参数_** | **_必填_** | **_默认值_** | **_类型_** | **_说明_** |
| --- | --- | --- | --- | --- |
| v | _是_ | | GameQuaternion | 四元数 |


---


#### **div**
| **_参数_** | **_必填_** | **_默认值_** | **_类型_** | **_说明_** |
| --- | --- | --- | --- | --- |
| v | _是_ | | GameQuaternion | 四元数 |


---


#### **dot**(v:GameQuaternion) : _number_
**四元数点积**
--- | --- | --- | --- | --- |
| v | _是_ | | GameQuaternion | 四元数 |


---


#### **equals**(v:GameQuaternion,tolerance: number) : boolean
** 两四元数的值在容差内是否近似相等**

**输入参数**
 --- | --- 
 | GameQuaternion | 四元数 |
| tolerance | _是_ | 0.0001 | number | 容差值 |


---


#### **inv**() : GameQuaternion
** 四元数反转**

---


#### **slerp**(v:GameQuaternion,n: number) : GameQuaternion
**四元数插值***输入参数**

| **_参数_** | **_必填_** | **_默认值_** | **_类型_** | **_说明_** |
| --- | --- | --- | --- | --- |
| v | _是_ | | GameQuaternion | 目标四元数 |
| n | _是_ | | number | 插值百分比 |


---


#### **mag**() : number
**得到该四元数的长度**

---


#### **normalize**() : GameQuaternion
**四元数归一化**--


#### **scale
**输入参数**

| **_参数_** | **_必填_** | **_默认值_** | **_类型_** | **_说明_** |
| --- | --- | --- | --- | --- |
| n | _是_ | | number | 缩放值 |


---


#### **getAxisAngle**(q:GameQuaternion) : {**angle:number;axis:GameVector3**}
**获取四元数的旋转轴和旋转弧度**

**输入参数**

| **_参数_** | **_必填_** | **_默认值_** | **_类型_** | **_说明_** |
| --- | --- | --- | --- | --- |
| q | _是_ | | GameQuaternion | _四元数_ |


---


#### **rotateX**(_rad: number) : GameQuaternion
**四元数X虚部旋转**

**输入参数**

| **_参数_** | **_必填_** | **_默认值_** | **_类型_** | **_说明_** |
| --- | --- | --- | --- | --- |
| _rad | _是_ | | number | 旋转弧度 |


---


#### **rotateY**(_rad: number) : GameQuaternion
**四元数Y虚部旋转**

**输入参数**

| **_参数_** | **_必填_** | **_默认值_** | **_类型_** | **_说明_** |
| --- | --- | --- | --- | --- |
| _rad | _是_ | | number | 旋转弧度 |


---


#### **rotateZ**(_rad: number) : GameQuaternion
**四元数Z虚部旋转**

**输入参数**

| **_参数_** | **_必填_** | **_默认值_** | **_类型_** | **_说明_** |
| --- | --- | --- | --- | --- |
| _rad | _是_ | | number | 旋转弧度 |


---


#### **set**(w: number ,x: number, y: number, z: number) : GameQuaternion
**设置四元数值**

**输入参数**

| **_参数_** | **_必填_** | **_默认值_** | **_类型_** | **_说明_** |
| --- | --- | --- | --- | --- |
| w | _是_ | | number | w实部 |
| x | _是_ | | number | x虚部 |
| y | _是_ | | number | y虚部 |
| z | _是_ | | number | z虚部 |


---


#### **sqrMag**() : _number_
**得到四元数的平方长度**

---


#### **sub**(v:GameQuaternion) : GameQuaternion
**四元数相减**

**输入参数**

| **_参数_** | **_必填_** | **_默认值_** | **_类型_** | **_说明_** |
| --- | --- | --- | --- | --- |
| v | _是_ | | _GameQuaternion_ | _四元数_ |


---


#### **mul**(v:GameQuaternion) : GameQuaternion
**四元数相乘**

**输入参数**

| **_参数_** | **_必填_** | **_默认值_** | **_类型_** | **_说明_** |
| --- | --- | --- | --- | --- |
| v | _是_ | | _GameQuaternion_ | _四元数_ |


---


#### **toString**() : _string_
**四元数格式化的字符串**


### 静态方法

#### fromAxisAngle(axis:GameVector3,rad:number) : GameQuaternion
**根据旋转轴和旋转弧度计算四元数**

**输入参数**

| **_参数_** | **_必填_** | **_默认值_** | **_类型_** | **_说明_** |
| --- | --- | --- | --- | --- |
| axis | _是_ | | GameVector3 | 三维向量 |
| rad | _是_ | | number | 旋转弧度 |


---


#### fromEuler(x:number,y:number,z:number) : GameQuaternion
**根据欧拉角信息计算四元数，旋转顺序为 YZX，即先绕Y旋转，再绕Z，最后绕X旋转。**

**输入参数**

| **_参数_** | **_必填_** | **_默认值_** | **_类型_** | **_说明_** |
| --- | --- | --- | --- | --- |
| x | _是_ | | number | x虚部 |
| y | _是_ | | number | y虚部 |
| z | _是_ | | number | z虚部 |


---


#### rotationBetween(a:GameVector3,b:GameVector3) : GameQuaternion
**从两个向量计算并创建一个四元数。**

**输入参数**

| **_参数_** | **_必填_** | **_默认值_** | **_类型_** | **_说明_** |
| --- | --- | --- | --- | --- |
| a | _是_ | | GameVector3 | 三维向量 |
| b | _是_ | | GameVector3 | 三维向量 |

